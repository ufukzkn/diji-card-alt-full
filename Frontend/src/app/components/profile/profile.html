<!-- src/app/components/profile/profile.html -->
<div class="profile-container">
  <!-- 1) LinkEditor en üstte -->
  <app-link-editor [userId]="userId"></app-link-editor>

  <!-- 2) Default bilgiler (Users tablosu) -->
  <div *ngIf="user" class="default-info">
    <img src="https://img.a.transfermarkt.technology/portrait/big/238055-1727356372.png?lm=1"
         alt="Profil Fotoğrafı"
         width="120"
         height="150"
         class="avatar" />

    <a routerLink="/" class="back-link">← Ana Sayfaya Dön</a>

    <!-- İsim -->
    <h1 class="name">{{ user.fullName }}</h1>
    <!-- Meslek @ Şirket -->
    <p class="subheading">{{ user.jobTitle }} &mdash; &#64; {{ user.company }}</p>

    <!-- E-posta -->
    <p *ngIf="user.email" class="contact">
      Email:
      <a [href]="'mailto:' + user.email">{{ user.email }}</a>
    </p>
    <!-- Telefon -->
    <p *ngIf="user.phoneNumber" class="contact">
      Telefon:
      <a [href]="'tel:' + user.phoneNumber">{{ user.phoneNumber }}</a>
    </p>
  </div>

  <!-- 3) Dinamik bağlantılar (UserDefinitionValues) -->
  <div *ngIf="profile?.links?.length" class="dynamic-links">
    <h3>Diğer Bağlantılar</h3>
    <ul>
      <li *ngFor="let l of profile?.links">
        <strong>{{ l.definitionName }}:</strong>
        <ng-container *ngIf="l.value.startsWith('http'); else textOnly">
          <a [href]="l.value" target="_blank">{{ l.value }}</a>
        </ng-container>
        <ng-template #textOnly>{{ l.value }}</ng-template>
      </li>
    </ul>
  </div>

  <!-- 4) Kullanıcı bulunamazsa -->
  <div *ngIf="!user" class="no-profile">
    <p>Profil bulunamadı.</p>
  </div>
</div>
